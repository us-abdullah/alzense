{"ast":null,"code":"import React,{useState,useEffect}from'react';import{MapContainer,TileLayer,Marker,Popup,Polyline,Circle,useMap}from'react-leaflet';import L from'leaflet';import{MapPin,Navigation,Clock,Shield,AlertTriangle}from'lucide-react';import{RoutingService}from'../services/routing';import'leaflet/dist/leaflet.css';// Fix for default markers in react-leaflet\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";delete L.Icon.Default.prototype._getIconUrl;L.Icon.Default.mergeOptions({iconRetinaUrl:'https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon-2x.png',iconUrl:'https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon.png',shadowUrl:'https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png'});// Component to center map on route\nconst MapCenter=_ref=>{let{center}=_ref;const map=useMap();useEffect(()=>{map.setView(center,15);},[center,map]);return null;};// Component to handle map clicks\nconst MapClickHandler=_ref2=>{let{onMapClick}=_ref2;const map=useMap();useEffect(()=>{const handleClick=e=>{const{lat,lng}=e.latlng;onMapClick(lat,lng);};map.on('click',handleClick);return()=>{map.off('click',handleClick);};},[map,onMapClick]);return null;};const RouteSuggestions=_ref3=>{let{calmZones,stressZones,currentLocation}=_ref3;const[startLocation,setStartLocation]=useState(currentLocation);const[endLocation,setEndLocation]=useState(null);const[suggestedRoute,setSuggestedRoute]=useState(null);const[isGenerating,setIsGenerating]=useState(false);// Update start location when current location changes\nuseEffect(()=>{if(currentLocation){setStartLocation(currentLocation);}},[currentLocation]);const handleMapClick=(lat,lng)=>{setEndLocation({latitude:lat,longitude:lng,timestamp:Date.now()});};const generateRoute=async()=>{if(!startLocation||!endLocation)return;setIsGenerating(true);try{const route=await RoutingService.getWalkingRoute(startLocation,endLocation,calmZones,stressZones);setSuggestedRoute(route);}catch(error){console.error('Failed to generate route:',error);alert('Failed to generate route. Please try again.');}finally{setIsGenerating(false);}};const getMapCenter=()=>{if(suggestedRoute){const lat=(suggestedRoute.start.latitude+suggestedRoute.end.latitude)/2;const lng=(suggestedRoute.start.longitude+suggestedRoute.end.longitude)/2;return[lat,lng];}if(startLocation){return[startLocation.latitude,startLocation.longitude];}return[40.7128,-74.0060];// Default to NYC\n};const getCalmScoreColor=score=>{if(score>=0.8)return'#4ade80';if(score>=0.6)return'#84cc16';if(score>=0.4)return'#fbbf24';return'#ef4444';};const getCalmScoreDescription=score=>{if(score>=0.8)return'Very Calm';if(score>=0.6)return'Calm';if(score>=0.4)return'Moderate';return'Stressful';};return/*#__PURE__*/_jsxs(\"div\",{className:\"page-content\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"page-title\",children:\"Route Suggestions\"}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'grid',gridTemplateColumns:'1fr 1fr',gap:'2rem',height:'calc(100vh - 200px)'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',flexDirection:'column',gap:'1rem'},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"card-title\",children:\"Route Planning\"}),/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'1rem'},children:[/*#__PURE__*/_jsx(\"label\",{style:{display:'block',marginBottom:'0.5rem',fontWeight:'600'},children:\"Start Location\"}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',gap:'0.5rem',padding:'0.75rem',backgroundColor:'#f3f4f6',borderRadius:'8px'},children:[/*#__PURE__*/_jsx(MapPin,{size:16}),/*#__PURE__*/_jsx(\"span\",{children:startLocation?\"\".concat(startLocation.latitude.toFixed(4),\", \").concat(startLocation.longitude.toFixed(4)):'Current location'})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'1rem'},children:[/*#__PURE__*/_jsx(\"label\",{style:{display:'block',marginBottom:'0.5rem',fontWeight:'600'},children:\"End Location\"}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',gap:'0.5rem',padding:'0.75rem',backgroundColor:'#f3f4f6',borderRadius:'8px'},children:[/*#__PURE__*/_jsx(MapPin,{size:16}),/*#__PURE__*/_jsx(\"span\",{children:endLocation?\"\".concat(endLocation.latitude.toFixed(4),\", \").concat(endLocation.longitude.toFixed(4)):'Click on map to set destination'})]}),/*#__PURE__*/_jsx(\"p\",{style:{fontSize:'0.875rem',color:'#6b7280',marginTop:'0.25rem',fontStyle:'italic'},children:\"\\uD83D\\uDCA1 Click anywhere on the map to set your destination\"})]}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary\",onClick:generateRoute,disabled:!startLocation||!endLocation||isGenerating,style:{width:'100%'},children:isGenerating?'Generating...':'Generate Calm Route'})]}),suggestedRoute&&/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"card-title\",children:\"Route Details\"}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',gap:'0.5rem',marginBottom:'1rem'},children:[/*#__PURE__*/_jsx(\"div\",{style:{width:'20px',height:'20px',borderRadius:'50%',backgroundColor:getCalmScoreColor(suggestedRoute.calmScore)}}),/*#__PURE__*/_jsxs(\"span\",{style:{fontWeight:'600'},children:[\"Calm Score: \",getCalmScoreDescription(suggestedRoute.calmScore),\" (\",(suggestedRoute.calmScore*100).toFixed(0),\"%)\"]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',gap:'0.5rem',marginBottom:'0.5rem'},children:[/*#__PURE__*/_jsx(Clock,{size:16}),/*#__PURE__*/_jsxs(\"span\",{children:[\"Duration: ~\",Math.round(suggestedRoute.totalDuration/60),\" minutes\"]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',gap:'0.5rem',marginBottom:'0.5rem'},children:[/*#__PURE__*/_jsx(Navigation,{size:16}),/*#__PURE__*/_jsxs(\"span\",{children:[\"Distance: \",Math.round(suggestedRoute.totalDistance),\"m\"]})]}),/*#__PURE__*/_jsx(\"div\",{style:{display:'flex',alignItems:'center',gap:'0.5rem',marginBottom:'0.5rem'},children:/*#__PURE__*/_jsxs(\"span\",{style:{fontSize:'0.875rem',color:'#6b7280'},children:[\"Difficulty: \",RoutingService.getRouteDifficulty(suggestedRoute)]})}),suggestedRoute.includesCalmZones.length>0&&/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',gap:'0.5rem',marginBottom:'0.5rem'},children:[/*#__PURE__*/_jsx(Shield,{size:16,style:{color:'#4ade80'}}),/*#__PURE__*/_jsxs(\"span\",{children:[\"Includes \",suggestedRoute.includesCalmZones.length,\" calm zone(s)\"]})]}),suggestedRoute.avoidsStressZones.length>0&&/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',gap:'0.5rem',marginBottom:'0.5rem'},children:[/*#__PURE__*/_jsx(AlertTriangle,{size:16,style:{color:'#ef4444'}}),/*#__PURE__*/_jsxs(\"span\",{children:[\"Avoids \",suggestedRoute.avoidsStressZones.length,\" stress zone(s)\"]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:'1rem'},children:[/*#__PURE__*/_jsx(\"h4\",{style:{marginBottom:'0.5rem',fontSize:'1rem',fontWeight:'600'},children:\"Turn-by-Turn Directions\"}),/*#__PURE__*/_jsx(\"div\",{style:{maxHeight:'200px',overflowY:'auto',backgroundColor:'#f8fafc',padding:'0.75rem',borderRadius:'8px'},children:suggestedRoute.instructions.map((instruction,index)=>/*#__PURE__*/_jsx(\"div\",{style:{marginBottom:'0.5rem',fontSize:'0.875rem',lineHeight:'1.4'},children:instruction},index))})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"card-title\",children:\"Zone Information\"}),/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'1rem'},children:[/*#__PURE__*/_jsxs(\"h4\",{style:{color:'#4ade80',marginBottom:'0.5rem'},children:[\"Calm Zones (\",calmZones.length,\")\"]}),calmZones.length===0?/*#__PURE__*/_jsx(\"p\",{style:{fontSize:'0.875rem',color:'#6b7280'},children:\"No calm zones identified yet\"}):/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',flexDirection:'column',gap:'0.25rem'},children:[calmZones.slice(0,3).map(zone=>/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:'0.875rem',color:'#6b7280'},children:[\"\\u2022 Calm Score: \",(zone.calmScore*100).toFixed(0),\"% (\",zone.visitCount,\" visits)\"]},zone.id)),calmZones.length>3&&/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:'0.875rem',color:'#6b7280'},children:[\"\\u2022 ... and \",calmZones.length-3,\" more\"]})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h4\",{style:{color:'#ef4444',marginBottom:'0.5rem'},children:[\"Stress Zones (\",stressZones.length,\")\"]}),stressZones.length===0?/*#__PURE__*/_jsx(\"p\",{style:{fontSize:'0.875rem',color:'#6b7280'},children:\"No stress zones identified yet\"}):/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',flexDirection:'column',gap:'0.25rem'},children:[stressZones.slice(0,3).map(zone=>/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:'0.875rem',color:'#6b7280'},children:[\"\\u2022 Stress Score: \",(zone.stressScore*100).toFixed(0),\"% (\",zone.stressCount,\" instances)\"]},zone.id)),stressZones.length>3&&/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:'0.875rem',color:'#6b7280'},children:[\"\\u2022 ... and \",stressZones.length-3,\" more\"]})]})]})]})]}),/*#__PURE__*/_jsx(\"div\",{style:{height:'100%',borderRadius:'8px',overflow:'hidden'},children:/*#__PURE__*/_jsxs(MapContainer,{center:getMapCenter(),zoom:15,style:{height:'100%',width:'100%'},children:[/*#__PURE__*/_jsx(TileLayer,{url:\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\",attribution:\"\\xA9 <a href=\\\"https://www.openstreetmap.org/copyright\\\">OpenStreetMap</a> contributors\"}),/*#__PURE__*/_jsx(MapCenter,{center:getMapCenter()}),/*#__PURE__*/_jsx(MapClickHandler,{onMapClick:handleMapClick}),startLocation&&/*#__PURE__*/_jsx(Marker,{position:[startLocation.latitude,startLocation.longitude],icon:L.divIcon({className:'start-marker',html:\"<div style=\\\"\\n                    background-color: #3b82f6;\\n                    width: 20px;\\n                    height: 20px;\\n                    border-radius: 50%;\\n                    border: 3px solid white;\\n                    box-shadow: 0 2px 4px rgba(0,0,0,0.3);\\n                  \\\"></div>\",iconSize:[20,20],iconAnchor:[10,10]}),children:/*#__PURE__*/_jsx(Popup,{children:\"Start Location\"})}),endLocation&&/*#__PURE__*/_jsx(Marker,{position:[endLocation.latitude,endLocation.longitude],icon:L.divIcon({className:'end-marker',html:\"<div style=\\\"\\n                    background-color: #ef4444;\\n                    width: 20px;\\n                    height: 20px;\\n                    border-radius: 50%;\\n                    border: 3px solid white;\\n                    box-shadow: 0 2px 4px rgba(0,0,0,0.3);\\n                  \\\"></div>\",iconSize:[20,20],iconAnchor:[10,10]}),children:/*#__PURE__*/_jsx(Popup,{children:\"End Location\"})}),suggestedRoute&&/*#__PURE__*/_jsx(Polyline,{positions:suggestedRoute.waypoints.map(wp=>[wp.latitude,wp.longitude]),pathOptions:{color:getCalmScoreColor(suggestedRoute.calmScore),weight:6,opacity:0.8}}),suggestedRoute&&suggestedRoute.waypoints.slice(1,-1).map((waypoint,index)=>/*#__PURE__*/_jsx(Marker,{position:[waypoint.latitude,waypoint.longitude],icon:L.divIcon({className:'waypoint-marker',html:\"<div style=\\\"\\n                    background-color: #3b82f6;\\n                    width: 12px;\\n                    height: 12px;\\n                    border-radius: 50%;\\n                    border: 2px solid white;\\n                    box-shadow: 0 2px 4px rgba(0,0,0,0.3);\\n                  \\\"></div>\",iconSize:[12,12],iconAnchor:[6,6]}),children:/*#__PURE__*/_jsx(Popup,{children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"strong\",{children:[\"Waypoint \",index+1]}),/*#__PURE__*/_jsx(\"br\",{}),\"Step \",index+1,\" of \",suggestedRoute.waypoints.length-1]})})},\"waypoint-\".concat(index))),calmZones.map(zone=>/*#__PURE__*/_jsx(Circle,{center:[zone.center.latitude,zone.center.longitude],radius:zone.radius,pathOptions:{color:'#4ade80',fillColor:'#4ade80',fillOpacity:0.2,weight:2},children:/*#__PURE__*/_jsx(Popup,{children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Calm Zone\"}),/*#__PURE__*/_jsx(\"br\",{}),\"Score: \",(zone.calmScore*100).toFixed(0),\"%\",/*#__PURE__*/_jsx(\"br\",{}),\"Visits: \",zone.visitCount]})})},zone.id)),stressZones.map(zone=>/*#__PURE__*/_jsx(Circle,{center:[zone.center.latitude,zone.center.longitude],radius:zone.radius,pathOptions:{color:'#ef4444',fillColor:'#ef4444',fillOpacity:0.2,weight:2},children:/*#__PURE__*/_jsx(Popup,{children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Stress Zone\"}),/*#__PURE__*/_jsx(\"br\",{}),\"Score: \",(zone.stressScore*100).toFixed(0),\"%\",/*#__PURE__*/_jsx(\"br\",{}),\"Count: \",zone.stressCount]})})},zone.id))]})})]})]});};export default RouteSuggestions;","map":{"version":3,"names":["React","useState","useEffect","MapContainer","TileLayer","Marker","Popup","Polyline","Circle","useMap","L","MapPin","Navigation","Clock","Shield","AlertTriangle","RoutingService","jsx","_jsx","jsxs","_jsxs","Icon","Default","prototype","_getIconUrl","mergeOptions","iconRetinaUrl","iconUrl","shadowUrl","MapCenter","_ref","center","map","setView","MapClickHandler","_ref2","onMapClick","handleClick","e","lat","lng","latlng","on","off","RouteSuggestions","_ref3","calmZones","stressZones","currentLocation","startLocation","setStartLocation","endLocation","setEndLocation","suggestedRoute","setSuggestedRoute","isGenerating","setIsGenerating","handleMapClick","latitude","longitude","timestamp","Date","now","generateRoute","route","getWalkingRoute","error","console","alert","getMapCenter","start","end","getCalmScoreColor","score","getCalmScoreDescription","className","children","style","display","gridTemplateColumns","gap","height","flexDirection","marginBottom","fontWeight","alignItems","padding","backgroundColor","borderRadius","size","concat","toFixed","fontSize","color","marginTop","fontStyle","onClick","disabled","width","calmScore","Math","round","totalDuration","totalDistance","getRouteDifficulty","includesCalmZones","length","avoidsStressZones","maxHeight","overflowY","instructions","instruction","index","lineHeight","slice","zone","visitCount","id","stressScore","stressCount","overflow","zoom","url","attribution","position","icon","divIcon","html","iconSize","iconAnchor","positions","waypoints","wp","pathOptions","weight","opacity","waypoint","radius","fillColor","fillOpacity"],"sources":["C:/Users/usman/.cursor/alzense/src/components/RouteSuggestions.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { MapContainer, TileLayer, Marker, Popup, Polyline, Circle, useMap } from 'react-leaflet';\r\nimport L from 'leaflet';\r\nimport { MapPin, Navigation, Clock, Shield, AlertTriangle } from 'lucide-react';\r\nimport { CalmZone, StressZone, Location } from '../types';\r\nimport { RoutingService, OptimizedRoute } from '../services/routing';\r\nimport 'leaflet/dist/leaflet.css';\r\n\r\n// Fix for default markers in react-leaflet\r\ndelete (L.Icon.Default.prototype as any)._getIconUrl;\r\nL.Icon.Default.mergeOptions({\r\n  iconRetinaUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon-2x.png',\r\n  iconUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon.png',\r\n  shadowUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png',\r\n});\r\n\r\ninterface RouteSuggestionsProps {\r\n  calmZones: CalmZone[];\r\n  stressZones: StressZone[];\r\n  currentLocation: Location | null;\r\n}\r\n\r\n// Component to center map on route\r\nconst MapCenter: React.FC<{ center: [number, number] }> = ({ center }) => {\r\n  const map = useMap();\r\n  \r\n  useEffect(() => {\r\n    map.setView(center, 15);\r\n  }, [center, map]);\r\n  \r\n  return null;\r\n};\r\n\r\n// Component to handle map clicks\r\nconst MapClickHandler: React.FC<{ onMapClick: (lat: number, lng: number) => void }> = ({ onMapClick }) => {\r\n  const map = useMap();\r\n  \r\n  useEffect(() => {\r\n    const handleClick = (e: any) => {\r\n      const { lat, lng } = e.latlng;\r\n      onMapClick(lat, lng);\r\n    };\r\n    \r\n    map.on('click', handleClick);\r\n    \r\n    return () => {\r\n      map.off('click', handleClick);\r\n    };\r\n  }, [map, onMapClick]);\r\n  \r\n  return null;\r\n};\r\n\r\nconst RouteSuggestions: React.FC<RouteSuggestionsProps> = ({ \r\n  calmZones, \r\n  stressZones, \r\n  currentLocation \r\n}) => {\r\n  const [startLocation, setStartLocation] = useState<Location | null>(currentLocation);\r\n  const [endLocation, setEndLocation] = useState<Location | null>(null);\r\n  const [suggestedRoute, setSuggestedRoute] = useState<OptimizedRoute | null>(null);\r\n  const [isGenerating, setIsGenerating] = useState(false);\r\n\r\n  // Update start location when current location changes\r\n  useEffect(() => {\r\n    if (currentLocation) {\r\n      setStartLocation(currentLocation);\r\n    }\r\n  }, [currentLocation]);\r\n\r\n  const handleMapClick = (lat: number, lng: number) => {\r\n    setEndLocation({\r\n      latitude: lat,\r\n      longitude: lng,\r\n      timestamp: Date.now()\r\n    });\r\n  };\r\n\r\n  const generateRoute = async () => {\r\n    if (!startLocation || !endLocation) return;\r\n\r\n    setIsGenerating(true);\r\n    \r\n    try {\r\n      const route = await RoutingService.getWalkingRoute(\r\n        startLocation,\r\n        endLocation,\r\n        calmZones,\r\n        stressZones\r\n      );\r\n      \r\n      setSuggestedRoute(route);\r\n    } catch (error) {\r\n      console.error('Failed to generate route:', error);\r\n      alert('Failed to generate route. Please try again.');\r\n    } finally {\r\n      setIsGenerating(false);\r\n    }\r\n  };\r\n\r\n  const getMapCenter = (): [number, number] => {\r\n    if (suggestedRoute) {\r\n      const lat = (suggestedRoute.start.latitude + suggestedRoute.end.latitude) / 2;\r\n      const lng = (suggestedRoute.start.longitude + suggestedRoute.end.longitude) / 2;\r\n      return [lat, lng];\r\n    }\r\n    \r\n    if (startLocation) {\r\n      return [startLocation.latitude, startLocation.longitude];\r\n    }\r\n    \r\n    return [40.7128, -74.0060]; // Default to NYC\r\n  };\r\n\r\n  const getCalmScoreColor = (score: number): string => {\r\n    if (score >= 0.8) return '#4ade80';\r\n    if (score >= 0.6) return '#84cc16';\r\n    if (score >= 0.4) return '#fbbf24';\r\n    return '#ef4444';\r\n  };\r\n\r\n  const getCalmScoreDescription = (score: number): string => {\r\n    if (score >= 0.8) return 'Very Calm';\r\n    if (score >= 0.6) return 'Calm';\r\n    if (score >= 0.4) return 'Moderate';\r\n    return 'Stressful';\r\n  };\r\n\r\n  return (\r\n    <div className=\"page-content\">\r\n      <h1 className=\"page-title\">Route Suggestions</h1>\r\n\r\n      <div style={{ display: 'grid', gridTemplateColumns: '1fr 1fr', gap: '2rem', height: 'calc(100vh - 200px)' }}>\r\n        {/* Controls Panel */}\r\n        <div style={{ display: 'flex', flexDirection: 'column', gap: '1rem' }}>\r\n          <div className=\"card\">\r\n            <h2 className=\"card-title\">Route Planning</h2>\r\n            \r\n            <div style={{ marginBottom: '1rem' }}>\r\n              <label style={{ display: 'block', marginBottom: '0.5rem', fontWeight: '600' }}>\r\n                Start Location\r\n              </label>\r\n              <div style={{ display: 'flex', alignItems: 'center', gap: '0.5rem', padding: '0.75rem', backgroundColor: '#f3f4f6', borderRadius: '8px' }}>\r\n                <MapPin size={16} />\r\n                <span>\r\n                  {startLocation \r\n                    ? `${startLocation.latitude.toFixed(4)}, ${startLocation.longitude.toFixed(4)}`\r\n                    : 'Current location'\r\n                  }\r\n                </span>\r\n              </div>\r\n            </div>\r\n\r\n            <div style={{ marginBottom: '1rem' }}>\r\n              <label style={{ display: 'block', marginBottom: '0.5rem', fontWeight: '600' }}>\r\n                End Location\r\n              </label>\r\n              <div style={{ display: 'flex', alignItems: 'center', gap: '0.5rem', padding: '0.75rem', backgroundColor: '#f3f4f6', borderRadius: '8px' }}>\r\n                <MapPin size={16} />\r\n                <span>\r\n                  {endLocation \r\n                    ? `${endLocation.latitude.toFixed(4)}, ${endLocation.longitude.toFixed(4)}`\r\n                    : 'Click on map to set destination'\r\n                  }\r\n                </span>\r\n              </div>\r\n              <p style={{ fontSize: '0.875rem', color: '#6b7280', marginTop: '0.25rem', fontStyle: 'italic' }}>\r\n                💡 Click anywhere on the map to set your destination\r\n              </p>\r\n            </div>\r\n\r\n            <button\r\n              className=\"btn btn-primary\"\r\n              onClick={generateRoute}\r\n              disabled={!startLocation || !endLocation || isGenerating}\r\n              style={{ width: '100%' }}\r\n            >\r\n              {isGenerating ? 'Generating...' : 'Generate Calm Route'}\r\n            </button>\r\n          </div>\r\n\r\n          {/* Route Details */}\r\n          {suggestedRoute && (\r\n            <div className=\"card\">\r\n              <h3 className=\"card-title\">Route Details</h3>\r\n              \r\n              <div style={{ display: 'flex', alignItems: 'center', gap: '0.5rem', marginBottom: '1rem' }}>\r\n                <div\r\n                  style={{\r\n                    width: '20px',\r\n                    height: '20px',\r\n                    borderRadius: '50%',\r\n                    backgroundColor: getCalmScoreColor(suggestedRoute.calmScore)\r\n                  }}\r\n                ></div>\r\n                <span style={{ fontWeight: '600' }}>\r\n                  Calm Score: {getCalmScoreDescription(suggestedRoute.calmScore)} ({(suggestedRoute.calmScore * 100).toFixed(0)}%)\r\n                </span>\r\n              </div>\r\n\r\n              <div style={{ display: 'flex', alignItems: 'center', gap: '0.5rem', marginBottom: '0.5rem' }}>\r\n                <Clock size={16} />\r\n                <span>Duration: ~{Math.round(suggestedRoute.totalDuration / 60)} minutes</span>\r\n              </div>\r\n\r\n              <div style={{ display: 'flex', alignItems: 'center', gap: '0.5rem', marginBottom: '0.5rem' }}>\r\n                <Navigation size={16} />\r\n                <span>Distance: {Math.round(suggestedRoute.totalDistance)}m</span>\r\n              </div>\r\n\r\n              <div style={{ display: 'flex', alignItems: 'center', gap: '0.5rem', marginBottom: '0.5rem' }}>\r\n                <span style={{ fontSize: '0.875rem', color: '#6b7280' }}>\r\n                  Difficulty: {RoutingService.getRouteDifficulty(suggestedRoute)}\r\n                </span>\r\n              </div>\r\n\r\n              {suggestedRoute.includesCalmZones.length > 0 && (\r\n                <div style={{ display: 'flex', alignItems: 'center', gap: '0.5rem', marginBottom: '0.5rem' }}>\r\n                  <Shield size={16} style={{ color: '#4ade80' }} />\r\n                  <span>Includes {suggestedRoute.includesCalmZones.length} calm zone(s)</span>\r\n                </div>\r\n              )}\r\n\r\n              {suggestedRoute.avoidsStressZones.length > 0 && (\r\n                <div style={{ display: 'flex', alignItems: 'center', gap: '0.5rem', marginBottom: '0.5rem' }}>\r\n                  <AlertTriangle size={16} style={{ color: '#ef4444' }} />\r\n                  <span>Avoids {suggestedRoute.avoidsStressZones.length} stress zone(s)</span>\r\n                </div>\r\n              )}\r\n\r\n              {/* Turn-by-turn instructions */}\r\n              <div style={{ marginTop: '1rem' }}>\r\n                <h4 style={{ marginBottom: '0.5rem', fontSize: '1rem', fontWeight: '600' }}>Turn-by-Turn Directions</h4>\r\n                <div style={{ maxHeight: '200px', overflowY: 'auto', backgroundColor: '#f8fafc', padding: '0.75rem', borderRadius: '8px' }}>\r\n                  {suggestedRoute.instructions.map((instruction, index) => (\r\n                    <div key={index} style={{ marginBottom: '0.5rem', fontSize: '0.875rem', lineHeight: '1.4' }}>\r\n                      {instruction}\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          {/* Zone Information */}\r\n          <div className=\"card\">\r\n            <h3 className=\"card-title\">Zone Information</h3>\r\n            \r\n            <div style={{ marginBottom: '1rem' }}>\r\n              <h4 style={{ color: '#4ade80', marginBottom: '0.5rem' }}>Calm Zones ({calmZones.length})</h4>\r\n              {calmZones.length === 0 ? (\r\n                <p style={{ fontSize: '0.875rem', color: '#6b7280' }}>No calm zones identified yet</p>\r\n              ) : (\r\n                <div style={{ display: 'flex', flexDirection: 'column', gap: '0.25rem' }}>\r\n                  {calmZones.slice(0, 3).map((zone) => (\r\n                    <div key={zone.id} style={{ fontSize: '0.875rem', color: '#6b7280' }}>\r\n                      • Calm Score: {(zone.calmScore * 100).toFixed(0)}% ({zone.visitCount} visits)\r\n                    </div>\r\n                  ))}\r\n                  {calmZones.length > 3 && (\r\n                    <div style={{ fontSize: '0.875rem', color: '#6b7280' }}>\r\n                      • ... and {calmZones.length - 3} more\r\n                    </div>\r\n                  )}\r\n                </div>\r\n              )}\r\n            </div>\r\n\r\n            <div>\r\n              <h4 style={{ color: '#ef4444', marginBottom: '0.5rem' }}>Stress Zones ({stressZones.length})</h4>\r\n              {stressZones.length === 0 ? (\r\n                <p style={{ fontSize: '0.875rem', color: '#6b7280' }}>No stress zones identified yet</p>\r\n              ) : (\r\n                <div style={{ display: 'flex', flexDirection: 'column', gap: '0.25rem' }}>\r\n                  {stressZones.slice(0, 3).map((zone) => (\r\n                    <div key={zone.id} style={{ fontSize: '0.875rem', color: '#6b7280' }}>\r\n                      • Stress Score: {(zone.stressScore * 100).toFixed(0)}% ({zone.stressCount} instances)\r\n                    </div>\r\n                  ))}\r\n                  {stressZones.length > 3 && (\r\n                    <div style={{ fontSize: '0.875rem', color: '#6b7280' }}>\r\n                      • ... and {stressZones.length - 3} more\r\n                    </div>\r\n                  )}\r\n                </div>\r\n              )}\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Map */}\r\n        <div style={{ height: '100%', borderRadius: '8px', overflow: 'hidden' }}>\r\n          <MapContainer\r\n            center={getMapCenter()}\r\n            zoom={15}\r\n            style={{ height: '100%', width: '100%' }}\r\n          >\r\n            <TileLayer\r\n              url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\r\n              attribution='&copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors'\r\n            />\r\n            \r\n            <MapCenter center={getMapCenter()} />\r\n            <MapClickHandler onMapClick={handleMapClick} />\r\n            \r\n            {/* Start location marker */}\r\n            {startLocation && (\r\n              <Marker\r\n                position={[startLocation.latitude, startLocation.longitude]}\r\n                icon={L.divIcon({\r\n                  className: 'start-marker',\r\n                  html: `<div style=\"\r\n                    background-color: #3b82f6;\r\n                    width: 20px;\r\n                    height: 20px;\r\n                    border-radius: 50%;\r\n                    border: 3px solid white;\r\n                    box-shadow: 0 2px 4px rgba(0,0,0,0.3);\r\n                  \"></div>`,\r\n                  iconSize: [20, 20],\r\n                  iconAnchor: [10, 10]\r\n                })}\r\n              >\r\n                <Popup>Start Location</Popup>\r\n              </Marker>\r\n            )}\r\n\r\n            {/* End location marker */}\r\n            {endLocation && (\r\n              <Marker\r\n                position={[endLocation.latitude, endLocation.longitude]}\r\n                icon={L.divIcon({\r\n                  className: 'end-marker',\r\n                  html: `<div style=\"\r\n                    background-color: #ef4444;\r\n                    width: 20px;\r\n                    height: 20px;\r\n                    border-radius: 50%;\r\n                    border: 3px solid white;\r\n                    box-shadow: 0 2px 4px rgba(0,0,0,0.3);\r\n                  \"></div>`,\r\n                  iconSize: [20, 20],\r\n                  iconAnchor: [10, 10]\r\n                })}\r\n              >\r\n                <Popup>End Location</Popup>\r\n              </Marker>\r\n            )}\r\n\r\n            {/* Suggested route */}\r\n            {suggestedRoute && (\r\n              <Polyline\r\n                positions={suggestedRoute.waypoints.map((wp) => [wp.latitude, wp.longitude])}\r\n                pathOptions={{\r\n                  color: getCalmScoreColor(suggestedRoute.calmScore),\r\n                  weight: 6,\r\n                  opacity: 0.8\r\n                }}\r\n              />\r\n            )}\r\n\r\n            {/* Route waypoints */}\r\n            {suggestedRoute && suggestedRoute.waypoints.slice(1, -1).map((waypoint, index) => (\r\n              <Marker\r\n                key={`waypoint-${index}`}\r\n                position={[waypoint.latitude, waypoint.longitude]}\r\n                icon={L.divIcon({\r\n                  className: 'waypoint-marker',\r\n                  html: `<div style=\"\r\n                    background-color: #3b82f6;\r\n                    width: 12px;\r\n                    height: 12px;\r\n                    border-radius: 50%;\r\n                    border: 2px solid white;\r\n                    box-shadow: 0 2px 4px rgba(0,0,0,0.3);\r\n                  \"></div>`,\r\n                  iconSize: [12, 12],\r\n                  iconAnchor: [6, 6]\r\n                })}\r\n              >\r\n                <Popup>\r\n                  <div>\r\n                    <strong>Waypoint {index + 1}</strong>\r\n                    <br />\r\n                    Step {index + 1} of {suggestedRoute.waypoints.length - 1}\r\n                  </div>\r\n                </Popup>\r\n              </Marker>\r\n            ))}\r\n\r\n            {/* Calm zones */}\r\n            {calmZones.map((zone) => (\r\n              <Circle\r\n                key={zone.id}\r\n                center={[zone.center.latitude, zone.center.longitude]}\r\n                radius={zone.radius}\r\n                pathOptions={{\r\n                  color: '#4ade80',\r\n                  fillColor: '#4ade80',\r\n                  fillOpacity: 0.2,\r\n                  weight: 2\r\n                }}\r\n              >\r\n                <Popup>\r\n                  <div>\r\n                    <strong>Calm Zone</strong>\r\n                    <br />\r\n                    Score: {(zone.calmScore * 100).toFixed(0)}%\r\n                    <br />\r\n                    Visits: {zone.visitCount}\r\n                  </div>\r\n                </Popup>\r\n              </Circle>\r\n            ))}\r\n\r\n            {/* Stress zones */}\r\n            {stressZones.map((zone) => (\r\n              <Circle\r\n                key={zone.id}\r\n                center={[zone.center.latitude, zone.center.longitude]}\r\n                radius={zone.radius}\r\n                pathOptions={{\r\n                  color: '#ef4444',\r\n                  fillColor: '#ef4444',\r\n                  fillOpacity: 0.2,\r\n                  weight: 2\r\n                }}\r\n              >\r\n                <Popup>\r\n                  <div>\r\n                    <strong>Stress Zone</strong>\r\n                    <br />\r\n                    Score: {(zone.stressScore * 100).toFixed(0)}%\r\n                    <br />\r\n                    Count: {zone.stressCount}\r\n                  </div>\r\n                </Popup>\r\n              </Circle>\r\n            ))}\r\n          </MapContainer>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default RouteSuggestions;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}